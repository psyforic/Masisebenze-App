<div class="main-content">
  <div class="container-fluid">

      <div class="card">
          <div class="card-header">
              <div class="card-title">
                  <button mat-icon-button [routerLink]="['../../',clientId]">
                      <mat-icon>keyboard_backspace</mat-icon>
                  </button>{{client.firstName}} {{client.lastName}}
              </div>
              <div class="header-toolbar">
                <div class="btn-group" dropdown>
                    <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
                        aria-controls="dropdown-basic">
                        Actions<span class="caret"></span>
                    </button>
                    <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu dropdown-menu-left" role="menu"
                        aria-labelledby="button-basic">
                        <li role="menuitem"><a class="dropdown-item" href="javascript:void(0)"
                                [routerLink]="['/admin/clients/activity-log', clientId]"
                                routerLinkActive="router-link-active">Activity Log</a>
                        </li>
                        <li role="menuitem"><a class="dropdown-item" href="javascript:void(0)"
                                [routerLink]="['/admin/clients/documents/upload', clientId]"
                                routerLinkActive="router-link-active">Upload</a>
                        </li>
                        <li role="menuitem"><a class="dropdown-item" href="javascript:void(0)"
                                [routerLink]="['/admin/comments/clients', clientId]"
                                routerLinkActive="router-link-active">Comments</a>
                        </li>

                    </ul>
                </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
                <div class="col-lg-12 example-loading-shade"
                    *ngIf="isLoading">
                    <mat-spinner *ngIf="isLoading"></mat-spinner>
                </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                  <mat-form-field>
                    <input matInput type="text" placeholder="Search Job Title" [formControl]="jobSearch"/>
                    <button matSuffix (click)="search()" color="primary" mat-stroked-button>
                      <mat-icon >search</mat-icon>
                    </button>

                  </mat-form-field>
              </div>
              <div class="col-md-6">
                <!-- <mat-form-field>
                  <mat-select [formControl]="occupation" [placeholder]="'Occupation'">
                      <mat-option *ngFor="let occupation of occupations"
                       [value]="occupation.code">
                        {{occupation.title}}
                      </mat-option>

                  </mat-select>
                  <input matInput type="text" placeholder="Company" [formControl]="company"/>
                </mat-form-field>  -->
                <mat-form-field>
                  <input type="text"
                         placeholder="Select Job Title"
                         aria-label="JobTitle"
                         matInput
                         
                         [formControl]="jobTitle"
                         [matAutocomplete]="auto">
                  <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                    <!-- <mat-option
                     *ngFor="let option of filteredOptions | async"
                     (onSelectionChange)="getWorkContext($event, option.code)"
                     [value]="option.title">
                      {{option.title}}
                    </mat-option> -->
                    <mat-option
                    *ngFor="let option of filteredOptions | async"
                    [value]="option">
                     {{option.title}}
                   </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
            </div>
              <!-- <div class="col-md-12">
                <tag-input (onRemove)="onAgesRemove($event)" (onAdd)="onAgesAdd($event)" [ngModel]="defaultAge"
                  [secondaryPlaceholder]="'Add job description'" [onlyFromAutocomplete]="true" [maxItems]="57">
                  <tag-input-dropdown [showDropdownIfEmpty]="true" [autocompleteItems]="ageList">
                  </tag-input-dropdown>
                </tag-input>
              </div> -->
            </div>
            <div class="row">
              <div class="col-md-12">
                <quill-editor [placeholder]="'Insert client\'s job description here...'"[styles]="{height: '200px'}" [(ngModel)]="jobDescription" [sanitize]="true"
                name="jobDescription" [disabled]="jobTitle.value == null || jobTitle.value ==''">
              </quill-editor>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mt-2">
                <button color="primary" class="float-right " type="button" [disabled]="jobDescription == null || jobDescription ==''" mat-raised-button color="primary" (click)="save()">Save</button>
              </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <h5> {{maxDataValues[0]?.title}} </h5>
                    <div class="col-md-12" *ngFor="let message of maxDataValues; let i = index;">
                      <p><b>{{i+1+" ."}} {{message?.elementName}}</b></p>
                      <p>
                        <span><strong>Category:</strong> {{message.category}} </span>
                        <span class="demo-2"><strong>Data Value:</strong> {{message.dataValue}}% </span>
                      </p>
                    </div>
                  </div>

                </div>
            </div>
          </div>
      </div>
  </div>
</div>
